# 核对内容清单展示方案设计文档

## 1. 设计概述

### 1.1 设计目标

将11个核对项（C01-C11）以清晰、分组的卡片形式展示，遵循现有的深色科技感设计系统，支持展开收起、状态筛选和详情查看。

### 1.2 设计系统继承

| 设计元素 | 现有规范 |
|---------|---------|
| 主背景 | `#0a0e17` |
| 霓虹蓝 | `#3b82f6` |
| 霓虹青 | `#06b6d4` |
| 成功色 | `#10b981` |
| 警告色 | `#f59e0b` |
| 错误色 | `#ef4444` |
| 玻璃效果 | `backdrop-filter: blur(12px)` |
| 卡片容器 | `GlowCard` 组件 |
| 状态徽章 | `StatusBadge` 组件 |

---

## 2. 页面布局方案

### 2.1 整体布局结构

```
+------------------------------------------------------------------+
|                        文件信息卡片 (FileCard)                      |
+------------------------------------------------------------------+
|                                                                    |
|  +------------------------------------------------------------+  |
|  |                   核对结果汇总仪表盘                          |  |
|  |   [总字段] [通过] [失败] [通过率]          [环形进度图]      |  |
|  +------------------------------------------------------------+  |
|                                                                    |
+------------------------------------------------------------------+
|                                                                    |
|  +------------------------------------------------------------+  |
|  |  核对清单                                    [全部|错误|警告] |  |
|  |------------------------------------------------------------|  |
|  |                                                            |  |
|  |  +--[ 报告基础核对 ]-------------------------------------+  |  |
|  |  | C01 [✓] 首页与第三页一致性                    [展开] |  |  |
|  |  | C02 [✓] 第三页扩展字段                        [展开] |  |  |
|  |  | C03 [✗] 生产日期格式                          [展开] |  |  |
|  |  | C04 [!] 样品描述表格                          [展开] |  |  |
|  |  +------------------------------------------------------+  |  |
|  |                                                            |  |
|  |  +--[ 样品照片核对 ]-------------------------------------+  |  |
|  |  | C05 [✓] 照片覆盖性                            [展开] |  |  |
|  |  | C06 [✗] 中文标签覆盖                          [展开] |  |  |
|  |  +------------------------------------------------------+  |  |
|  |                                                            |  |
|  |  +--[ 检验项目核对 ]-------------------------------------+  |  |
|  |  | C07 [✗] 单项结论核对                          [展开] |  |  |
|  |  | C08 [✓] 非空字段校验                          [展开] |  |  |
|  |  | C09 [✓] 序号连续性                            [展开] |  |  |
|  |  | C10 [✓] 续表标记                              [展开] |  |  |
|  |  +------------------------------------------------------+  |  |
|  |                                                            |  |
|  |  +--[ 页码校验 ]-----------------------------------------+  |  |
|  |  | C11 [✓] 页码连续性                            [展开] |  |  |
|  |  +------------------------------------------------------+  |  |
|  |                                                            |  |
|  +------------------------------------------------------------+  |
|                                                                    |
+------------------------------------------------------------------+
|                        操作栏 (ActionBar)                          |
+------------------------------------------------------------------+
```

### 2.2 核对分组结构

```
核对清单 (CheckList)
├── 报告基础核对 (BasicReportCheck)
│   ├── C01 - 首页与第三页一致性
│   ├── C02 - 第三页扩展字段
│   ├── C03 - 生产日期格式
│   └── C04 - 样品描述表格
├── 样品照片核对 (SamplePhotoCheck)
│   ├── C05 - 照片覆盖性
│   └── C06 - 中文标签覆盖
├── 检验项目核对 (InspectionItemCheck)
│   ├── C07 - 单项结论核对
│   ├── C08 - 非空字段校验
│   ├── C09 - 序号连续性
│   └── C10 - 续表标记
└── 页码校验 (PageNumberCheck)
    └── C11 - 页码连续性
```

---

## 3. 核对项组件设计

### 3.1 CheckItemCard - 单项核对卡片

#### 视觉设计

```
+----------------------------------------------------------------+
|  [状态图标] C01 首页与第三页一致性              [状态徽章]  >  |
|----------------------------------------------------------------|
|  委托方、样品名称、型号规格的跨页一致性校验                      |
|                                                                |
|  +----------------------------------------------------------+  |
|  | 展开详情区域 (默认收起)                                    |  |
|  |                                                          |  |
|  |  字段比对表格:                                            |  |
|  |  | 字段名     | 首页值   | 第三页值  | 状态 |            |  |
|  |  |------------|---------|----------|------|            |  |
|  |  | 委托方     | XXX公司  | XXX公司   | ✓   |            |  |
|  |  | 样品名称   | 空调     | 空调      | ✓   |            |  |
|  |  | 型号规格   | KFR-35GW | KFR-35G  | ✗   |            |  |
|  +----------------------------------------------------------+  |
+----------------------------------------------------------------+
```

#### 状态显示规则

| 状态 | 图标 | 颜色 | 条件 |
|-----|------|------|-----|
| 通过 | CheckCircleOutlined | `#10b981` (绿) | 所有检查项通过 |
| 失败 | CloseCircleOutlined | `#ef4444` (红) | 存在错误级别问题 |
| 警告 | WarningOutlined | `#f59e0b` (橙) | 存在警告级别问题 |
| 跳过 | MinusCircleOutlined | `#6b7280` (灰) | 该检查项不适用 |

### 3.2 CheckGroupCard - 分组卡片

#### 视觉设计

```
+----------------------------------------------------------------+
|  [图标] 报告基础核对                             [3/4 通过]    |
|  ============================================================  |
|                                                                |
|  +----------------------------------------------------------+  |
|  | C01 [✓] 首页与第三页一致性                            >  |  |
|  +----------------------------------------------------------+  |
|  +----------------------------------------------------------+  |
|  | C02 [✓] 第三页扩展字段                                >  |  |
|  +----------------------------------------------------------+  |
|  +----------------------------------------------------------+  |
|  | C03 [✗] 生产日期格式              [2处错误]           >  |  |
|  +----------------------------------------------------------+  |
|  +----------------------------------------------------------+  |
|  | C04 [!] 样品描述表格              [1处警告]           >  |  |
|  +----------------------------------------------------------+  |
|                                                                |
+----------------------------------------------------------------+
```

### 3.3 CheckListPanel - 核对清单总面板

#### 筛选器设计

```
+----------------------------------------------------------------+
|  核对清单                                                      |
|  -----------------------------------------------------------  |
|  [全部] [仅错误] [仅警告]                    [搜索核对项...]   |
+----------------------------------------------------------------+
```

---

## 4. 各核对项详情展示设计

### 4.1 C01 - 首页与第三页一致性

```
展开详情:
+----------------------------------------------------------------+
|  字段比对结果:                                                  |
|  +----------------------------------------------------------+  |
|  | 字段名       | 首页值      | 第三页值     | 状态         |  |
|  |-------------|------------|-------------|-------------|  |
|  | 委托方       | XX科技有限公司 | XX科技有限公司 | ✓ 一致      |  |
|  | 样品名称     | 分体式空调   | 分体式空调    | ✓ 一致      |  |
|  | 型号规格     | KFR-35GW   | KFR-35GW    | ✓ 一致      |  |
|  +----------------------------------------------------------+  |
+----------------------------------------------------------------+
```

### 4.2 C02 - 第三页扩展字段

```
展开详情:
+----------------------------------------------------------------+
|  扩展字段比对:                                                  |
|  +----------------------------------------------------------+  |
|  | 字段名       | 表格值      | 标签值       | 状态         |  |
|  |-------------|------------|-------------|-------------|  |
|  | 型号规格     | KFR-35GW   | KFR-35GW    | ✓ 一致      |  |
|  | 生产日期     | 2024-01-15 | 2024.01.15  | ✗ 不一致    |  |
|  | 产品编号/批号 | BN20240115 | BN20240115  | ✓ 一致      |  |
|  +----------------------------------------------------------+  |
+----------------------------------------------------------------+
```

### 4.3 C03 - 生产日期格式

```
展开详情:
+----------------------------------------------------------------+
|  格式一致性检查:                                                |
|  +----------------------------------------------------------+  |
|  | 位置         | 表格值        | 格式         | 状态       |  |
|  |-------------|--------------|-------------|-----------|  |
|  | 第三页表格   | 2024-01-15   | YYYY-MM-DD  | ✓ 正确     |  |
|  | 中文标签     | 2024.01.15   | YYYY.MM.DD  | ✗ 格式不一致|  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 第1个部件: 表格格式与标签格式不一致                          |
+----------------------------------------------------------------+
```

### 4.4 C04 - 样品描述表格

```
展开详情:
+----------------------------------------------------------------+
|  各部件字段比对:                                                |
|  +----------------------------------------------------------+  |
|  | 部件名称   | 字段       | 表格值    | 标签值    | 状态    |  |
|  |-----------|-----------|----------|----------|--------|  |
|  | 室内机     | 生产日期   | 2024-01  | 2024-01  | ✓      |  |
|  | 室内机     | 产品编号   | SN001    | SN001    | ✓      |  |
|  | 室外机     | 生产日期   | 2024-01  | 2024-02  | ✗      |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  警告说明:                                                      |
|  - 室外机: 生产日期与标签不一致                                 |
+----------------------------------------------------------------+
```

### 4.5 C05 - 照片覆盖性

```
展开详情:
+----------------------------------------------------------------+
|  照片覆盖检查:                                                  |
|  +----------------------------------------------------------+  |
|  | 部件名称     | 照片数量   | 状态       | 操作          |  |
|  |-------------|-----------|-----------|---------------|  |
|  | 室内机       | 3 张      | ✓ 已覆盖   | [查看照片]    |  |
|  | 室外机       | 2 张      | ✓ 已覆盖   | [查看照片]    |  |
|  | 遥控器       | 0 张      | ✗ 未覆盖   | -             |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 遥控器: 缺少照片，至少需要1张                                |
+----------------------------------------------------------------+
```

### 4.6 C06 - 中文标签覆盖

```
展开详情:
+----------------------------------------------------------------+
|  中文标签检查:                                                  |
|  +----------------------------------------------------------+  |
|  | 部件名称     | 标签状态       | 照片预览              |  |
|  |-------------|---------------|----------------------|  |
|  | 室内机       | ✓ 已识别中文标签 | [缩略图]             |  |
|  | 室外机       | ✗ 未检测到中文标签| -                    |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 室外机: 未检测到中文标签照片                                 |
+----------------------------------------------------------------+
```

### 4.7 C07 - 检验项目单项结论

```
展开详情:
+----------------------------------------------------------------+
|  单项结论核对:                                                  |
|  +----------------------------------------------------------+  |
|  | 序号 | 检验项目   | 实际结论   | 期望结论   | 状态      |  |
|  |-----|-----------|----------|----------|----------|  |
|  | 1   | 外观检查   | 合格      | 合格      | ✓        |  |
|  | 2   | 制冷性能   | 合格      | 合格      | ✓        |  |
|  | 3   | 能效比     | 不合格    | 合格      | ✗        |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 第3项: 能效比结论错误，检验结果应为"合格"                    |
|  - 错误原因: 检验结果中有2个条款要求为"合格"                    |
+----------------------------------------------------------------+
```

### 4.8 C08 - 非空字段校验

```
展开详情:
+----------------------------------------------------------------+
|  非空字段检查:                                                  |
|  +----------------------------------------------------------+  |
|  | 序号 | 检验项目   | 检验结果   | 单项结论   | 备注      |  |
|  |-----|-----------|----------|----------|----------|  |
|  | 1   | 外观检查   | ✓         | ✓         | -        |  |
|  | 2   | 制冷性能   | ✓         | ✗ 空      | -        |  |
|  | 5   | 噪音测试   | ✗ 空      | -         | -        |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 第2项制冷性能: 单项结论为空                                  |
|  - 第5项噪音测试: 检验结果为空                                  |
+----------------------------------------------------------------+
```

### 4.9 C09 - 序号连续性

```
展开详情:
+----------------------------------------------------------------+
|  序号连续性检查:                                                |
|                                                                |
|  序号序列: 1 → 2 → 3 → 4 → [跳过] → 6 → 7                      |
|                                                                |
|  +----------------------------------------------------------+  |
|  | 错误位置     | 错误类型       | 说明                     |  |
|  |-------------|---------------|-------------------------|  |
|  | 4 → 6       | 跳号           | 缺少序号5                |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 第4项后跳到第6项，缺少序号5                                  |
+----------------------------------------------------------------+
```

### 4.10 C10 - 续表标记

```
展开详情:
+----------------------------------------------------------------+
|  续表标记检查:                                                  |
|  +----------------------------------------------------------+  |
|  | 页码 | 序号      | 续表标记   | 状态                   |  |
|  |-----|----------|----------|------------------------|  |
|  | 4   | 续1       | ✓ 正确    | 前页有序号5             |  |
|  | 5   | 续3       | ✗ 错误    | 前页末尾为续2           |  |
|  +----------------------------------------------------------+  |
|                                                                |
|  错误说明:                                                      |
|  - 第5页续表序号不连续，应为"续3"                               |
+----------------------------------------------------------------+
```

### 4.11 C11 - 页码连续性

```
展开详情:
+----------------------------------------------------------------+
|  页码校验:                                                      |
|                                                                |
|  总页数: 声明4页 / 实际4页 ✓                                    |
|                                                                |
|  页码序列:                                                      |
|  [1/4] → [2/4] → [3/4] → [4/4]                                |
|   ✓        ✓        ✓        ✓                                |
|                                                                |
|  +----------------------------------------------------------+  |
|  | 页码 | 标记格式     | 连续性   | 末页校验    | 状态      |  |
|  |-----|-------------|---------|------------|----------|  |
|  | 1   | 1/4         | ✓       | -          | ✓        |  |
|  | 2   | 2/4         | ✓       | -          | ✓        |  |
|  | 3   | 3/4         | ✓       | -          | ✓        |  |
|  | 4   | 4/4         | ✓       | ✓ Y=XXX    | ✓        |  |
|  +----------------------------------------------------------+  |
+----------------------------------------------------------------+
```

---

## 5. 组件层级结构

```
src/renderer/src/components/result/
├── index.js                    # 导出入口
├── CheckResult.jsx             # 核对结果主页面
├── CheckResult.module.css
├── CheckListPanel.jsx          # 新增: 核对清单总面板
├── CheckListPanel.module.css
├── CheckGroupCard.jsx          # 新增: 核对分组卡片
├── CheckGroupCard.module.css
├── CheckItemCard.jsx           # 新增: 单项核对卡片
├── CheckItemCard.module.css
├── CheckItemDetail/            # 新增: 详情组件目录
│   ├── index.js
│   ├── C01HomeThirdDetail.jsx
│   ├── C02ThirdPageExtendedDetail.jsx
│   ├── C03DateFormatDetail.jsx
│   ├── C04SampleTableDetail.jsx
│   ├── C05PhotoCoverageDetail.jsx
│   ├── C06ChineseLabelDetail.jsx
│   ├── C07ConclusionDetail.jsx
│   ├── C08NonEmptyFieldDetail.jsx
│   ├── C09SerialNumberDetail.jsx
│   ├── C10ContinuationMarkDetail.jsx
│   └── C11PageNumberDetail.jsx
├── DashboardStats.jsx          # 已有
├── IssuesPanel.jsx             # 已有
├── InspectionTable.jsx         # 已有
├── ComparisonTable.jsx         # 已有
├── PageCheckSection.jsx        # 已有
└── FileCard.jsx                # 已有
```

---

## 6. 需要新增的组件清单

### 6.1 核心组件

| 组件名 | 路径 | 用途 |
|-------|------|-----|
| `CheckListPanel` | `result/CheckListPanel.jsx` | 核对清单总面板，包含筛选和所有分组 |
| `CheckGroupCard` | `result/CheckGroupCard.jsx` | 分组卡片，包含多个核对项 |
| `CheckItemCard` | `result/CheckItemCard.jsx` | 单项核对卡片，支持展开收起 |

### 6.2 详情组件

| 组件名 | 用途 |
|-------|-----|
| `C01HomeThirdDetail` | 首页与第三页比对详情 |
| `C02ThirdPageExtendedDetail` | 第三页扩展字段详情 |
| `C03DateFormatDetail` | 生产日期格式详情 |
| `C04SampleTableDetail` | 样品描述表格详情 |
| `C05PhotoCoverageDetail` | 照片覆盖性详情 |
| `C06ChineseLabelDetail` | 中文标签覆盖详情 |
| `C07ConclusionDetail` | 单项结论详情 |
| `C08NonEmptyFieldDetail` | 非空字段校验详情 |
| `C09SerialNumberDetail` | 序号连续性详情 |
| `C10ContinuationMarkDetail` | 续表标记详情 |
| `C11PageNumberDetail` | 页码连续性详情 |

### 6.3 辅助组件

| 组件名 | 用途 |
|-------|-----|
| `StatusIcon` | 统一的状态图标组件 |
| `ErrorTag` | 错误计数标签 |
| `FilterTabs` | 筛选标签组 |

---

## 7. 交互设计

### 7.1 展开收起

- 点击核对项行或右侧箭头展开/收起详情
- 展开时箭头旋转90度
- 展开动画: `framer-motion` 实现，高度从0到auto

### 7.2 筛选功能

- 三个筛选标签: 全部 / 仅错误 / 仅警告
- 切换时平滑过渡，隐藏不符合条件的项
- 使用 URL 参数保存筛选状态

### 7.3 错误定位

- 错误项高亮显示，带有红色发光边框
- 点击"定位"按钮滚动到对应位置
- 错误计数徽章显示在分组标题

### 7.4 状态反馈

- 整体加载时显示骨架屏
- 数据更新时使用过渡动画
- 错误状态显示错误信息

---

## 8. 数据结构设计

### 8.1 核对项数据结构

```typescript
interface CheckItem {
  code: string;           // "C01"
  name: string;           // "首页与第三页一致性"
  description: string;    // "委托方、样品名称、型号规格..."
  status: 'pass' | 'fail' | 'warning' | 'skip';
  errorLevel: 'ERROR' | 'WARN';
  errorCount: number;
  warningCount: number;
  details: any;           // 各项特有的详情数据
}
```

### 8.2 分组数据结构

```typescript
interface CheckGroup {
  id: string;             // "basic" | "photo" | "inspection" | "page"
  name: string;           // "报告基础核对"
  icon: ReactNode;
  items: CheckItem[];
}
```

### 8.3 完整清单数据结构

```typescript
interface CheckListData {
  groups: CheckGroup[];
  summary: {
    total: number;
    passed: number;
    failed: number;
    warnings: number;
  };
}
```

---

## 9. 与现有组件的整合

### 9.1 替换策略

现有组件可以复用于详情展示:

| 现有组件 | 复用场景 |
|---------|---------|
| `ComparisonTable` | C01、C02、C04 的字段比对展示 |
| `InspectionTable` | C07、C08 的检验项目展示 |
| `PageCheckSection` | C11 的页码校验展示 |
| `IssuesPanel` | 整体错误汇总展示 |

### 9.2 CheckResult 整合

在 `CheckResult.jsx` 中添加 `CheckListPanel`:

```jsx
{/* 核对清单面板 - 在统计仪表盘之后 */}
<motion.div variants={itemVariants}>
  <CheckListPanel result={result} />
</motion.div>
```

---

## 10. 样式规范

### 10.1 核对项卡片样式

```css
.checkItemCard {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  transition: all var(--transition-normal);
}

.checkItemCard:hover {
  border-color: var(--border-color-hover);
  box-shadow: var(--glow-blue);
}

.checkItemCard--error {
  border-color: rgba(239, 68, 68, 0.4);
}

.checkItemCard--warning {
  border-color: rgba(245, 158, 11, 0.4);
}
```

### 10.2 分组卡片样式

```css
.checkGroupCard {
  background: var(--color-bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  overflow: hidden;
}

.checkGroupCard__header {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--border-color);
}
```

---

## 11. 响应式设计

| 断点 | 布局调整 |
|-----|---------|
| `> 1200px` | 分组卡片两列布局 |
| `768px - 1200px` | 分组卡片单列布局 |
| `< 768px` | 详情表格横向滚动 |

---

## 12. 实现优先级

### P0 - 核心功能

1. `CheckListPanel` - 总面板
2. `CheckGroupCard` - 分组卡片
3. `CheckItemCard` - 单项卡片（基础版）

### P1 - 详情展示

4. C01、C07、C11 详情组件（复用现有组件）
5. 其余详情组件

### P2 - 增强功能

6. 筛选功能
7. 搜索功能
8. 响应式优化
